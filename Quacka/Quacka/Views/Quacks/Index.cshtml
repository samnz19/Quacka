@model Quacka.Models.FeedViewModel

@{
    ViewBag.Title = "Public Feed";
}

<h2>Public Feed</h2>

@if (User.Identity.IsAuthenticated)
{
    using (Html.BeginForm("Index", "Quacks", FormMethod.Post))
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group col-md-12">
                <div class="col-md-8">
                    @Html.EditorFor(model => model.New.Body, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.New.Body, "", new { @class = "text-danger" })
                </div>
                <div class="form-group">
                    <div class="col-md-4">
                        <input type="submit" value="Quack!" class="btn btn-default" />
                    </div>
                </div>
            </div>
        </div>
    }
}
        @*<table class="table">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.New.Body)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.New.CreatedAt)
                    </th>
                    <th></th>
                </tr>

            @foreach (var item in Model.Quacks) {
                <tr>
                    <td>
                        <strong>@Html.DisplayFor(modelItem => item.Owner.UserName)</strong> @Html.DisplayFor(modelItem => item.Body)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CreatedAt)
                    </td>

                </tr>
            }

            </table>*@

    <div class="view-table">
    <div class="header-row">
        @Html.DisplayNameFor(model => model.New.Body)
    </div>
    <div class="quack-element">
    @foreach (var item in Model.Quacks)
    {
        <div class="quack-body">@Html.DisplayFor(modelItem => item.Body)</div>
        <div class="username">@Html.DisplayFor(modelItem => item.Owner.UserName)</div>
        <div class="created-date">@Html.DisplayFor(modelItem => item.CreatedAt)</div>
    }
    </div>
    </div>
